(this.webpackJsonpbcmaker=this.webpackJsonpbcmaker||[]).push([[0],{19:function(e,t,a){e.exports={makerShadow:"rgba(217, 217, 217, 1)",makerSmokeWhite:"#f8f8f8",makerLightBlack:"#1f1f1f",makerColorful:"linear-gradient(142deg, rgba(240,97,194,0.7077205882352942) 0%, rgba(203,58,111,0.5144432773109244) 45%, rgba(255,246,0,0.5536589635854341) 100%)",makerWheat:"wheat",card:"card_card__1py-W",dark:"card_dark__1FdRe",light:"card_light__1Cc6G",colorful:"card_colorful__2zruV",info:"card_info__2Fslj",avatar:"card_avatar__33lzN",name:"card_name__31aE7",company:"card_company__3UM9t",title:"card_title__25_dG",email:"card_email__3uHYI",phone:"card_phone__iilLh",message:"card_message__2dRnZ"}},24:function(e,t,a){e.exports={makerSmokeWhite:"#f8f8f8",makerBlack:"black",makerLightBlack:"#1f1f1f",makerWhite:"white",makerLightGrey:"#e8e7e6",makerShadow:"rgba(217, 217, 217, 1)",form:"card_add_form_form__3h74l",input:"card_add_form_input__3Ste-",select:"card_add_form_select__1s4o6",textarea:"card_add_form_textarea__1cl5-",image_file_input:"card_add_form_image_file_input__1RnEm"}},25:function(e,t,a){e.exports={makerSmokeWhite:"#f8f8f8",makerBlack:"black",makerLightBlack:"#1f1f1f",makerWhite:"white",makerLightGrey:"#e8e7e6",makerShadow:"rgba(217, 217, 217, 1)",form:"card_edit_form_form__2xQD4",input:"card_edit_form_input__uur0a",select:"card_edit_form_select__V3wH9",textarea:"card_edit_form_textarea__1-v1B",image_file_input:"card_edit_form_image_file_input__2WO0D"}},31:function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#385461",makerMint:"#e5f3f2",login:"login_login__19aQM",login_list:"login_login_list__1Ssxw",login_item:"login_login_item__152RL",login_btn:"login_login_btn__2Ju8S"}},32:function(e,t,a){e.exports={makerSpinner:"#cfcfcf",makerSmokeWhite:"#f8f8f8",makerWhite:"white",makerBlack:"black",makerLightBlack:"#1f1f1f",makerPink:"#f8acb9",makerLightPink:"#ffeae8",container:"image_file_input_container__3Eqtx",image_btn:"image_file_input_image_btn__TnS-V",grey:"image_file_input_grey__68AiQ",pink:"image_file_input_pink__1V0O7",file_input:"image_file_input_file_input__1yIvz",loading:"image_file_input_loading__3OwEa",spin:"image_file_input_spin__1K71y"}},36:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"white",makerLightBlack:"#1f1f1f",makerSmokeWhite:"#f8f8f8",header:"header_header__v9FKw",logo:"header_logo__1X7aW",logout_btn:"header_logout_btn__3MXF1",title:"header_title__1DXxp"}},38:function(e,t,a){e.exports={makerGreen:"#385461",preview:"preview_preview__3lr-V",title:"preview_title__3zLS1",card_list:"preview_card_list__1FKtW"}},42:function(e,t,a){e.exports={makerGreen:"#385461",makerLightGrey:"#e8e7e6",editor:"editor_editor__1nHIK",title:"editor_title__21REx"}},43:function(e,t,a){e.exports={mediaQuery:"62rem",makerWhite:"white",maker:"maker_maker__1Jsum",container:"maker_container__25Mis"}},48:function(e,t,a){e.exports={makerGrey:"#626262",app:"app_app__cewju"}},49:function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#385461",footer:"footer_footer__1lZIc"}},52:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"white",button:"button_button__3_GL1"}},58:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a(7),r=a.n(c),i=a(47),l=a.n(i),s=(a(58),a(37)),o=a(11),u=a(48),m=a.n(u),f=a(0),j=a.n(f),d=a(2),b=a(49),_=a.n(b),p=a(6),h=Object(c.memo)((function(){return Object(p.jsx)("footer",{className:_.a.footer,children:Object(p.jsx)("p",{children:"Sean's Business Card Maker"})})})),O=a(36),g=a.n(O),x=Object(c.memo)((function(e){var t=e.onLogout;return Object(p.jsxs)("header",{className:g.a.header,children:[t&&Object(p.jsx)("button",{className:g.a.logout_btn,onClick:t,children:"Logout"}),Object(p.jsx)("img",{className:g.a.logo,src:"./images/logo.png",alt:"logo"}),Object(p.jsx)("h1",{className:g.a.title,children:"Business Card Maker"})]})})),k=a(31),v=a.n(k),N=function(e){var t=e.authService,a=(e.isLogin,Object(o.f)()),n=function(e){a.push({pathname:"/maker",state:e})},r=function(){var e=Object(d.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.login(a.currentTarget.textContent).then((function(e){n(e.user.uid)})).catch(console.log);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t.onAuthChange((function(e){e&&n(e.uid)}))})),Object(p.jsxs)("section",{className:v.a.login,children:[Object(p.jsx)(x,{}),Object(p.jsxs)("section",{children:[Object(p.jsx)("h1",{children:"Login"}),Object(p.jsxs)("ul",{className:v.a.login_list,children:[Object(p.jsx)("li",{className:v.a.login_item,children:Object(p.jsx)("button",{className:v.a.login_btn,onClick:r,children:"Google"})}),Object(p.jsx)("li",{className:v.a.login_item,children:Object(p.jsx)("button",{className:v.a.login_btn,onClick:r,children:"Github"})})]})]}),Object(p.jsx)(h,{})]})},y=a(15),C=a(52),w=a.n(C),R=Object(c.memo)((function(e){var t=e.name;return Object(p.jsx)("button",{className:w.a.button,children:t})})),S=a(24),L=a.n(S),F=Object(c.memo)((function(e){var t=e.FileInput,a=e.addCard,n=Object(c.useState)({fileName:"",fileURL:null}),r=Object(y.a)(n,2),i=r[0],l=r[1],s=Object(c.useRef)(),o=Object(c.useRef)(),u=Object(c.useRef)(),m=Object(c.useRef)(),f=Object(c.useRef)(),j=Object(c.useRef)(),d=Object(c.useRef)(),b=Object(c.useRef)(),_=Object(c.useCallback)((function(e){l({fileName:e.original_filename,fileURL:e.url})}),[]);return Object(p.jsxs)("form",{ref:s,className:L.a.form,onSubmit:function(e){e.preventDefault();var t={id:Date.now(),name:o.current.value||"",company:u.current.value||"",title:m.current.value||"",email:f.current.value||"",phone:j.current.value||"",theme:d.current.value.toLowerCase(),message:b.current.value||"",fileName:i.fileName||"",fileURL:i.fileURL||null};s.current.reset(),a(t),l({fileName:"",fileURL:null})},children:[Object(p.jsx)("input",{ref:o,className:L.a.input,type:"text",placeholder:"Name"}),Object(p.jsx)("input",{ref:u,className:L.a.input,type:"text",placeholder:"Company"}),Object(p.jsx)("input",{ref:m,className:L.a.input,type:"text",placeholder:"Title"}),Object(p.jsx)("input",{ref:f,className:L.a.input,type:"email",placeholder:"Email"}),Object(p.jsx)("input",{ref:j,className:L.a.input,type:"text",placeholder:"Phone"}),Object(p.jsxs)("select",{ref:d,className:L.a.select,name:"theme",children:[Object(p.jsx)("option",{value:"light",children:"Light"}),Object(p.jsx)("option",{value:"dark",children:"Dark"}),Object(p.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(p.jsx)("textarea",{ref:b,className:L.a.textarea,type:"text",name:"message",placeholder:"Message"}),Object(p.jsx)("div",{className:L.a.image_file_input,children:Object(p.jsx)(t,{fileName:i.fileName,onFileChange:_})}),Object(p.jsx)(R,{name:"Add"})]})})),W=a(3),G=a(25),I=a.n(G),B=Object(c.memo)((function(e){var t=e.FileInput,a=e.card,r=e.deleteCard,i=e.updateCard,l=a.id,s=a.name,o=a.company,u=a.title,m=a.email,f=a.phone,j=a.message,d=a.fileName,b=Object(c.useRef)(),_=Object(c.useRef)(),h=Object(c.useRef)(),O=Object(c.useRef)(),g=Object(c.useRef)(),x=Object(c.useRef)(),k=Object(c.useRef)(),v=function(e){e.preventDefault(),i(Object(n.a)(Object(n.a)({},a),{},Object(W.a)({},e.currentTarget.name,e.currentTarget.value)))},N=Object(c.useCallback)((function(e){i(Object(n.a)(Object(n.a)({},a),{},{fileName:e.original_filename,fileURL:e.url}))}),[i,a]);return Object(p.jsxs)("form",{className:I.a.form,onSubmit:function(e){e.preventDefault(),r(l)},children:[Object(p.jsx)("input",{ref:b,className:I.a.input,type:"text",name:"name",value:s,onChange:v}),Object(p.jsx)("input",{ref:_,className:I.a.input,type:"text",name:"company",value:o,onChange:v}),Object(p.jsx)("input",{ref:h,className:I.a.input,type:"text",name:"title",value:u,onChange:v}),Object(p.jsx)("input",{ref:O,className:I.a.input,type:"email",name:"email",value:m,onChange:v}),Object(p.jsx)("input",{ref:g,className:I.a.input,type:"text",name:"phone",value:f,onChange:v}),Object(p.jsxs)("select",{ref:x,className:I.a.select,name:"theme",onChange:v,children:[Object(p.jsx)("option",{value:"light",children:"Light"}),Object(p.jsx)("option",{value:"dark",children:"Dark"}),Object(p.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(p.jsx)("textarea",{ref:k,className:I.a.textarea,type:"text",name:"message",value:j,onChange:v}),Object(p.jsx)("div",{className:I.a.image_file_input,children:Object(p.jsx)(t,{fileName:d,onFileChange:N})}),Object(p.jsx)(R,{name:"Delete"})]})})),D=a(42),U=a.n(D),E=function(e){var t=e.FileInput,a=e.cards,n=e.deleteCard,c=e.addOrUpdateCard;return Object(p.jsxs)("section",{className:U.a.editor,children:[Object(p.jsx)("h1",{className:U.a.title,children:"Card Editor"}),Object.keys(a).map((function(e){return Object(p.jsx)(B,{FileInput:t,card:a[e],deleteCard:n,updateCard:c},e)})),Object(p.jsx)(F,{FileInput:t,addCard:c})]})},M=a(38),T=a.n(M),A=a(19),P=a.n(A),z=Object(c.memo)((function(e){var t=e.card,a=t.name,n=t.company,c=t.title,r=t.email,i=t.phone,l=t.message,s=t.fileURL,o=t.theme,u=s||"./images/default_logo.png";return Object(p.jsxs)("li",{className:"".concat(P.a.card," ").concat(K(o)),children:[Object(p.jsx)("img",{className:P.a.avatar,src:u,alt:"Profile"}),Object(p.jsxs)("div",{className:P.a.info,children:[Object(p.jsx)("p",{className:P.a.name,children:a}),Object(p.jsx)("p",{className:P.a.company,children:n}),Object(p.jsx)("p",{className:P.a.title,children:c}),Object(p.jsx)("p",{className:P.a.email,children:r}),Object(p.jsx)("p",{className:P.a.phone,children:i}),Object(p.jsx)("p",{className:P.a.message,children:l})]})]})})),K=function(e){switch(e){case"light":return P.a.light;case"dark":return P.a.dark;case"colorful":return P.a.colorful;default:throw new Error("Theme ".concat(e," is not available"))}},V=z,J=function(e){var t=e.cards;return Object(p.jsxs)("section",{className:T.a.preview,children:[Object(p.jsx)("h1",{className:T.a.title,children:"Card Preview"}),Object(p.jsx)("ul",{className:T.a.card_list,children:Object.keys(t).map((function(e){return Object(p.jsx)(V,{card:t[e]},e)}))})]})},Q=a(43),H=a.n(Q),X=function(e){var t=e.FileInput,a=e.authService,r=e.cardRepository,i=Object(o.f)(),l=Object(c.useState)({}),s=Object(y.a)(l,2),u=s[0],m=s[1],f=Object(c.useState)(i&&i.location.state),j=Object(y.a)(f,2),d=j[0],b=j[1],_=Object(c.useCallback)((function(){a.logout()}),[a]),O=Object(c.useCallback)((function(e){m((function(t){var a=Object(n.a)({},t);return a[e.id]=e,a})),r.saveCard(d,e)}),[r,d]),g=Object(c.useCallback)((function(e){m((function(t){var a=Object(n.a)({},t);return delete a[e],a})),r.removeCard(d,e)}),[r,d]);return Object(c.useEffect)((function(){a.onAuthChange((function(e){e?b(e.uid):i.push("/")}))}),[a,i]),Object(c.useEffect)((function(){var e=r.getCards(d,(function(e){m(e||{})}));return function(){return e()}}),[r,d]),Object(p.jsxs)("section",{className:H.a.maker,children:[Object(p.jsx)(x,{onLogout:_}),Object(p.jsxs)("section",{className:H.a.container,children:[Object(p.jsx)(E,{FileInput:t,cards:u,deleteCard:g,addOrUpdateCard:O}),Object(p.jsx)(J,{cards:u})]}),Object(p.jsx)(h,{})]})},Z=function(e){var t=e.FileInput,a=e.authService,n=e.cardRepository;return Object(p.jsx)("div",{className:m.a.app,children:Object(p.jsx)(s.a,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",children:Object(p.jsx)(N,{authService:a})}),Object(p.jsx)(o.a,{path:"/maker",children:Object(p.jsx)(X,{FileInput:t,authService:a,cardRepository:n})})]})})})},q=a(4),Y=a(5),$=a(29),ee=a(53),te=Object(ee.a)({apiKey:"AIzaSyDw7ZPjwWmyS-Tl03BpAd5NCSiug80Rcug",authDomain:"bcmaker-ff50b.firebaseapp.com",projectId:"bcmaker-ff50b",databaseURL:"https://bcmaker-ff50b-default-rtdb.firebaseio.com/"}),ae=function(){function e(){Object(q.a)(this,e)}return Object(Y.a)(e,[{key:"login",value:function(e){var t;"Google"===e?t=new $.b:"Github"===e&&(t=new $.a);var a=Object($.c)(te);return Object($.e)(a,t)}},{key:"onAuthChange",value:function(e){var t=Object($.c)();Object($.d)(t,(function(t){e(t)}))}},{key:"logout",value:function(){var e=Object($.c)();Object($.f)(e).catch(console.log)}}]),e}(),ne=function(){function e(){Object(q.a)(this,e)}return Object(Y.a)(e,[{key:"upload",value:function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/shyuncloud/image/upload",(a=new FormData).append("file",t),a.append("api_key","176644579787412"),a.append("upload_preset","mhc0fkhk"),e.next=7,fetch("https://api.cloudinary.com/v1_1/shyuncloud/image/upload",{method:"POST",body:a});case 7:return n=e.sent,e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce=a(32),re=a.n(ce),ie=Object(c.memo)((function(e){var t=e.imageUploader,a=e.fileName,n=e.onFileChange,r=Object(c.useState)(!1),i=Object(y.a)(r,2),l=i[0],s=i[1],o=Object(c.useRef)(),u=function(){var e=Object(d.a)(j.a.mark((function e(a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,t.upload(a.target.files[0]);case 3:c=e.sent,s(!1),n(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:re.a.container,children:[!l&&Object(p.jsx)("input",{className:"".concat(re.a.image_btn," ").concat(a?re.a.pink:re.a.grey),type:"button",name:"button",value:a||"No File",onClick:function(){o.current.click()}}),Object(p.jsx)("input",{ref:o,className:re.a.file_input,type:"file",accept:"image/*",name:"file",onChange:u}),l&&Object(p.jsx)("div",{className:re.a.loading})]})})),le=a(26),se=function(){function e(){Object(q.a)(this,e),this.db=Object(le.a)(te)}return Object(Y.a)(e,[{key:"getCards",value:function(e,t){var a=this,n=Object(le.d)(this.db,"".concat(e,"/cards"));return Object(le.c)(n,(function(e){t(e.val())})),function(){return Object(le.b)(Object(le.d)(a.db,"db disconnected")).set("disconnected")}}},{key:"saveCard",value:function(e,t){Object(le.f)(Object(le.d)(this.db,"".concat(e,"/cards/").concat(t.id)),t)}},{key:"removeCard",value:function(e,t){Object(le.e)(Object(le.d)(this.db,"".concat(e,"/cards/").concat(t)))}}]),e}(),oe=new ae,ue=new se,me=new ne,fe=Object(c.memo)((function(e){return Object(p.jsx)(ie,Object(n.a)(Object(n.a)({},e),{},{imageUploader:me}))}));l.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Z,{FileInput:fe,authService:oe,cardRepository:ue})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.6dea5cac.chunk.js.map